# 项目更新日志与结构说明文档

## 1. 更新日志 (Changelog)

### **最近更新 - 导航与布局修复 (2025-11-29)**

#### **1.1 导航栏弹窗 (Navigation Pop-up)**
*   **布局重构**: 从传统的 `float` 布局改为 **Flexbox** 布局。
    *   **解决痛点**: 彻底解决了右侧内容区域高度塌陷的问题。无论商品数量多少，白色背景区域现在都会强制撑满 `460px` 高度，与左侧黑色菜单栏对齐。
    *   **自适应宽度**: 去除了固定的 `992px` 宽度，改为自适应。当商品列数不足3列时，弹窗宽度会自动收缩，从而让右侧透出底部的星空/山峰背景图（实现了“最后一张图片”的效果）。
*   **文字处理**: 为商品名称添加了 CSS 截断逻辑 (`text-overflow: ellipsis`)，防止长文字破坏布局。

#### **1.2 侧边栏 (Sidebar)**
*   **图标大小**: 调整了侧边栏图标的 `padding` (从 15px 减小至 5px) 并设为 `width: auto`，使图标显示更大、更清晰。
*   **网格布局**: 修复了网格格子的精确高度 (`85px`) 和边框逻辑，去除了多余的边框线，并修复了边框遮挡图标的问题 (`z-index`)。

#### **1.3 头部 (Header)**
*   **Logo 尺寸**: 恢复了 Logo 的原始设计尺寸 (`200px x 100px`)。

---

## 2. 文件拆分与作用说明 (Project Structure)

为了提高代码的可维护性和可扩展性，本项目对 CSS 样式和 JavaScript 逻辑进行了模块化拆分。

### **2.1 CSS 样式文件 (`/public/css/`)**

| 文件名 | 作用说明 |
| :--- | :--- |
| **`header.css`** | **顶部导航样式**。包含 Logo、搜索框、用户登录/购物车按钮的布局与样式。独立拆分方便在不同页面复用头部。 |
| **`home.css`** | **首页核心样式**。包含轮播图区域 (`.banner_y`)、侧边栏、导航弹窗 (`.pop`)、以及楼层展示区（手机、配件等）的特定样式。本次修复主要集中在此文件。 |
| **`global.css`** | **全局通用样式**。定义通用的类（如 `.fl`, `.fr`, `.clear`）、重置浏览器默认样式 (Reset CSS) 以及通用的字体设置。 |
| **`style.css`** | **基础样式**。可能包含一些早期的基础定义或特定组件的兜底样式。 |

### **2.2 JavaScript 逻辑模块 (`/public/js/homepage/`)**

我们将首页的业务逻辑拆分为数据、渲染、事件处理三个维度。

| 文件名 | 作用说明 |
| :--- | :--- |
| **`data.js`** | **数据源 (Model)**。存放所有的静态数据，如导航菜单项、商品列表、热销单品数据。 <br> *优势：修改商品信息只需改动此文件，无需触碰 HTML 或渲染逻辑。* |
| **`render.js`** | **渲染逻辑 (View)**。包含生成 HTML 字符串的核心函数（如 `renderNav`, `renderFeatured`）。 <br> *作用：接收 `data.js` 中的数据，动态生成 DOM 结构并插入页面。* |
| **`index.js`** | **主入口 (Controller)**。负责初始化整个页面。它会加载局部 HTML（头部/底部），调用渲染函数，并初始化其他功能模块。 |
| **`nav.js`** | **导航交互**。处理导航栏的鼠标悬停、显示/隐藏弹窗等交互逻辑。 |
| **`cart.js`** | **购物车逻辑**。处理“加入购物车”的点击事件、购物车数量更新等。 |
| **`notification.js`** | **通知模块**。负责弹窗提示（如“添加成功”的 Toast 提示）。 |
| **`logout.js`** | **用户状态**。处理用户登出逻辑。 |

### **2.3 为什么要这样拆分？**

1.  **关注点分离 (Separation of Concerns)**：修改样式去 CSS 目录，修改数据去 `data.js`，修改逻辑去对应的 JS 模块，互不干扰。
2.  **复用性 (Reusability)**：`header.css` 和 `render.js` 中的部分逻辑可以在其他页面复用。
3.  **维护性 (Maintainability)**：当项目变大时，模块化结构能让开发者快速定位问题代码，而不是在一个几千行的 `index.html` 或 `main.js` 中大海捞针。
